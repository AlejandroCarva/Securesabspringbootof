<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body th:replace="~{layouts/indexC :: layout(~{::content})}">
<div th:fragment="content">
    <section id="inicio-section" class="content-section active-section" aria-labelledby="inicio-heading">
        <h2 id="inicio-heading" style="color: #047857; margin-bottom: 1.5rem; font-size: 1.875rem; font-weight: 700;">Dashboard de Coordinación</h2>

        <!-- Tarjetas de Resumen -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); padding: 1.5rem; border-radius: 1rem; box-shadow: 0 10px 25px rgba(16, 185, 129, 0.2); color: white;">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <p style="font-size: 0.875rem; opacity: 0.9; margin: 0;">Total Fichas</p>
                        <p style="font-size: 2.5rem; font-weight: 700; margin: 0.5rem 0 0 0;" id="totalFichas" th:text="${totalFichas}">0</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 0.75rem;">
                        <svg style="width: 2rem; height: 2rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); padding: 1.5rem; border-radius: 1rem; box-shadow: 0 10px 25px rgba(59, 130, 246, 0.2); color: white;">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <p style="font-size: 0.875rem; opacity: 0.9; margin: 0;">Total Aprendices</p>
                        <p style="font-size: 2.5rem; font-weight: 700; margin: 0.5rem 0 0 0;" id="totalAprendices" th:text="${totalAprendices}">0</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 0.75rem;">
                        <svg style="width: 2rem; height: 2rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); padding: 1.5rem; border-radius: 1rem; box-shadow: 0 10px 25px rgba(139, 92, 246, 0.2); color: white;">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <p style="font-size: 0.875rem; opacity: 0.9; margin: 0;">Presentes Hoy</p>
                        <p style="font-size: 2.5rem; font-weight: 700; margin: 0.5rem 0 0 0;" id="presentesSedeHoy" th:text="${presentesSedeHoy}">0</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 0.75rem;">
                        <svg style="width: 2rem; height: 2rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); padding: 1.5rem; border-radius: 1rem; box-shadow: 0 10px 25px rgba(245, 158, 11, 0.2); color: white;">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <p style="font-size: 0.875rem; opacity: 0.9; margin: 0;">Justificaciones</p>
                        <p style="font-size: 2.5rem; font-weight: 700; margin: 0.5rem 0 0 0;" id="justPendientes" th:text="${justPendientes}">0</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 0.75rem;">
                        <svg style="width: 2rem; height: 2rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gráficos -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem;">
            <!-- Gráfico de Asistencia Ambiente vs Sede -->
            <div style="background: white; padding: 1.5rem; border-radius: 1rem; box-shadow: 0 4px 6px rgba(0,0,0,0.07);">
                <h3 style="color: #1f2937; font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem;">Asistencia Ambiente vs Sede</h3>
                <canvas id="asistenciasChart" style="max-height: 300px;"></canvas>
            </div>

            <!-- Gráfico de Novedades -->
            <div style="background: white; padding: 1.5rem; border-radius: 1rem; box-shadow: 0 4px 6px rgba(0,0,0,0.07);">
                <h3 style="color: #1f2937; font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem;">Novedades</h3>
                <canvas id="novedadesChart" style="max-height: 300px;"></canvas>
            </div>

            <!-- Gráfico de Justificaciones -->
            <div style="background: white; padding: 1.5rem; border-radius: 1rem; box-shadow: 0 4px 6px rgba(0,0,0,0.07);">
                <h3 style="color: #1f2937; font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem;">Justificaciones</h3>
                <canvas id="justificacionesChart" style="max-height: 300px;"></canvas>
            </div>

            <!-- Gráfico de Actividad Semanal -->
            <div style="background: white; padding: 1.5rem; border-radius: 1rem; box-shadow: 0 4px 6px rgba(0,0,0,0.07);">
                <h3 style="color: #1f2937; font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem;">Actividad Semanal</h3>
                <canvas id="actividadChart" style="max-height: 300px;"></canvas>
            </div>
        </div>
    </section>
</div>
</body>
</html>
